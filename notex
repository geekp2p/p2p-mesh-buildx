# สร้าง binaries ของ node และ relay (Linux + Windows) แล้วดึงออกเป็นไฟล์
docker buildx build --output type=local,dest=./bin .


node_linux
node.exe
relay_linux
relay.exe

ขั้นตอนการ build
Node (Ubuntu/Linux)

GOOS=linux GOARCH=amd64 go build -o p2p-node-linux ./node
Node (Windows)

GOOS=windows GOARCH=amd64 go build -o p2p-node.exe ./node
Relay (Ubuntu/Linux)

GOOS=linux GOARCH=amd64 go build -o p2p-relay-linux ./relay
Relay (Windows)

GOOS=windows GOARCH=amd64 go build -o p2p-relay.exe ./relay

docker buildx build --output type=local,dest=./bin .

docker buildx build --target builder --output type=local,dest=./bin .



docker buildx build --target artifacts --output type=local,dest=./bin .

docker buildx build --target artifacts --output type=tar,dest=bin.tar .

tar -xf bin.tar -C bin

docker buildx build --target runtime -t p2p-mesh .
